<div>
    <cell-board choose-items="$ctrl.cellBoardConfig"/>
</div>
<div class="clearfix"/>
<h2 translate="{{$ctrl.headerTitle}}" translate-values="{{$ctrl.deviceNameParam}}"/>
<div class="clearfix"/>
<p ng-if="$ctrl.isConnected == null">Es wird geprüft ob IrTrans installiert ist <span class="saving"><span>.</span><span>.</span><span>.</span></span></p>
<div ng-if="$ctrl.isConnected != null">
    <asterics-message  message-level="{{$ctrl.isConnected ? 'info' : 'warn'}}" transclude="true">
        <span>Zum Lernen von Fernbedienungs-Befehlen benötigen Sie folgende Hardware:</span>
        <ul>
            <li>
                <a href="" ng-click="$ctrl.goToIrTransHelp()">
                    {{'i18n_ec_HW_IRTRANS_USB' | translate}}
                </a>
            </li>
        </ul>
    </asterics-message>
</div>
<div ng-if="$ctrl.isConnected == false">
    <div class="col-lg-5">
        <p>Haben Sie bereits einen <b>IrTrans-USB</b> gekauft?</p>
        <ul>
            <li>
                <a href="" ng-click="$ctrl.goToIrTransHelp()">
                    <b>Nein</b>, zu Infos und Bestellmöglichkeiten
                </a>
            </li>
            <li>
                <a href="" ng-click="$ctrl.goToIrTransInstall()">
                    <b>Ja</b>, zur Installation von IrTrans
                </a>
            </li>
        </ul>
    </div>
</div>
<div ng-if="$ctrl.isConnected">
    <div class="col-lg-8">
        <ul ng-if="$ctrl.isDeviceLearn">
            <li ng-model-options="{debounce: 500}">
                <label for="inputLabelDevice">{{'i18n_ec_fs_choosename' | translate}}</label>
                <input type="text" id="inputLabelDevice" ng-model="$ctrl.selectedDeviceName" maxlength="20"/><br/>
            </li>
        </ul>
        <ul ng-if="!$ctrl.isDeviceLearn || $ctrl.selectedDeviceName">
            <li>Geben Sie jeweils den Namen des Befehls an und drücken Sie danach den Button auf der Fernbedienung (in <b>Richtung IrTrans gerichtet</b>).
                Nachdem Sie mindestens einen Befehl gelernt haben, können Sie diesen übernehmen oder einen weiteren hinzufügen.
            </li>
            <li ng-repeat="item in $ctrl.learnItems track by $index">
                Befehl "{{item.name}}" <i class="fa fa-check"/> {{'i18n_ec_irmass_learned' | translate}}
            </li>
            <li ng-model-options="{debounce: 500}">
                <label for="inputLabel">{{'i18n_ec_ir_choosename' | translate}}</label>
                <input type="text" id="inputLabel" ng-model="$ctrl.selectedLabel" maxlength="20"/><br/>
                <div ng-if="$ctrl.selectedLabel">
                    Drücken Sie jetzt "{{$ctrl.selectedLabel}}" <b>einmal kurz</b> auf der Fernbedienung! <span ng-if="!$ctrl.code" class="saving"><span>.</span><span>.</span><span>.</span></span>
                    <br/>
                </div>
            </li>
        </ul>
        <div ng-if="$ctrl.learnItems.length > 0">
            <span translate="i18n_ec_ir_learnsuccess" translate-values="{{$ctrl.getNumLearnedValuesI18n()}}"/><br/>
            <button ng-click="$ctrl.addCellBoardItemAndReturn()">{{'i18n_ec_irmass_finish' | translate}}</button>
        </div>
    </div>
</div>
<a ng-if="$ctrl.isConnected != null" href="" ng-click="$ctrl.goToIrTransHelp()">
    <div class="col-xs-6 col-md-4 col-lg-3">
        <img src="angular/envControl/img/irtrans_learn.png" alt="IrTrans-USB"/>
        <div class=" text-center"><span translate="i18n_ec_remote_directed_irtrans"/></div>
    </div>
</a>